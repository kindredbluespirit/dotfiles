#!/bin/env zsh

## dependencies - zsh, git, fakeroot

level=${1:-0}

## yay
[ -n `pacman -Qq yay-bin` ] || {
    tempdir=~/.cache/tempdir-398282
    rm -rf $tempdir
    mkdir -p $tempdir
    pushd $tempdir
    git clone https://aur.archlinux.org/yay-bin
    pushd yay-bin
    makepkg -si
    popd
    popd
    rm -rf $tempdir
}

## install packages using yay
packages=(
archlinux-keyring

yay-bin
zsh

syncthing

man

# ttf-nerd-fonts-symbols-common

cmake
# automake
base-devel

tar
gzip
unzip

bottom
# gotop-bin

## handled by another setup script
# grml-zsh-config
# starship

## pactree
pacman-contrib

kdeconnect

mesa
xf86-video-vesa
xf86-video-intel
xf86-video-amdgpu

plasma-desktop
kwin-bismuth
powerdevil
power-profiles-daemon

xsettingsd # opt dep for lxqt-config

gvfs
shotgun
hacksaw

# pipewire
pipewire-pulse
# pulseaudio
pavucontrol
pamixer
alsa-utils

bottom

networkmanager
network-manager-applet
blueman
bluez
bluez-utils

# xorg
# xorg-apps
xorg-xsetroot
xorg-xinit
openbox
bspwm
sxhkd
tint2
# ttf-icomoon-feather
ttf-material-design-icons
oreo-cursors-git
rofi

font-manager

## read windows partitions
ntfs-3g

fcitx5-im
# fcitx5

alacritty
# lxqt-policykit
# lxqt-powermanagement
# lxqt-notificationd

vscodium-bin
# pcmanfm-qt
brave-bin

# warpinator
# volumeicon
# network-manager-applet
pa-applet-git

gcc
make

uget
wget

chezmoi
qogir-icon-theme

xdotool
git
opendoas

fakeroot
picom

noto-fonts
noto-fonts-extra
noto-fonts-cjk
noto-fonts-emoji
fcitx5

light
xorg-xbacklight
# acpilight

opendoas
feh
# lxqt-config

emacs
zellij

xautolock
xscreensaver

xss-lock
physlock
neovim
mpv

# ttf-fork-awesome

# pyenv
# base-devel
lxqt
lxdm
xfce4
xfce4-goodies
sddm

ripgrep
bat
dust

plank
)

[[ level -ge 1 ]] && packages=( $packages
gparted
)

## this is a bash array, not a zsh array
# echo ${packages[@]}
# yay -S --noconfirm ${packages[@]}

print -l $packages
yay -S --noconfirm $packages
